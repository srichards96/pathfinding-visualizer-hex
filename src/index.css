@import "tailwindcss";

.hex-grid {
  --animation-speed: 1000ms;
}

.hex-grid .hex-grid-cell {
  clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
  @apply bg-gray-400 select-none;
}

.hex-grid .hex-grid-cell[data-wall="true"] {
  @apply bg-black;
}

.hex-grid .hex-grid-cell::before,
.hex-grid .hex-grid-cell::after {
  clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
}

/* Non-animated state styles */
.hex-grid[data-animate="false"] .hex-grid-cell[data-visited="true"]::before {
  background-color: #800080;
}
.hex-grid[data-animate="false"] .hex-grid-cell[data-on-path="true"]::after {
  background-color: #ffff00;
}
/* Animated state styles */
.hex-grid[data-animate="true"] .hex-grid-cell[data-visited="true"]::before {
  animation: visited-animation var(--animation-speed) ease forwards;
}
.hex-grid[data-animate="true"] .hex-grid-cell[data-on-path="true"]::after {
  background-color: #ffff00;
  animation: path-animation var(--animation-speed) ease forwards;
}

@keyframes visited-animation {
  0% {
    transform: scale(0);
    background-color: #00ffff;
    border-radius: 50%;
  }
  100% {
    transform: scale(1);
    border-radius: 0;
    background-color: #800080;
  }
}

@keyframes path-animation {
  0% {
    transform: scale(0.2);
    border-radius: 50%;
  }
  100% {
    /* Make sure it fully covers the ::before for visited cells */
    transform: scale(1.01);
    border-radius: 0;
  }
}
